# ğŸµ Self Music - ç§äººéŸ³ä¹ç³»ç»Ÿ

- é¢„è§ˆåœ°å€ï¼šhttps://music.icodeq.com

![å±å¹•æˆªå›¾(616)](https://img.onmicrosoft.cn/zkeq/20250817125324565.png)

![å±å¹•æˆªå›¾(617)](https://img.onmicrosoft.cn/zkeq/20250817125724096.png)

![å±å¹•æˆªå›¾(618)](https://img.onmicrosoft.cn/zkeq/20250817125723943.png)

![å±å¹•æˆªå›¾(619)](https://img.onmicrosoft.cn/zkeq/20250817125723887.png)

![å±å¹•æˆªå›¾(621)](https://img.onmicrosoft.cn/zkeq/20250817125729741.png)

![å±å¹•æˆªå›¾(620)](https://img.onmicrosoft.cn/zkeq/20250817125727225.png)

![å±å¹•æˆªå›¾(624)](https://img.onmicrosoft.cn/zkeq/20250817125723840.png)

![å±å¹•æˆªå›¾(623)](https://img.onmicrosoft.cn/zkeq/20250817125723806.png)


<div align="center">

**ğŸŒŸ ä¸€ä¸ªç°ä»£åŒ–çš„ç§äººéŸ³ä¹ç®¡ç†ä¸æ’­æ”¾ç³»ç»Ÿï¼Œæ”¯æŒæ’­æ”¾åˆ—è¡¨ã€æ­Œè¯åŒæ­¥ä¸å¤šç«¯è®¿é—®ã€‚ï¼ˆæ”¯æŒä¸€é”®å¯¼å…¥ç½‘æ˜“äº‘éŸ³ä¹å…ƒæ•°æ®ï¼Œæ‰¹é‡æœåˆ®çš„ç§äººéŸ³ä¹å®¢æˆ·ç«¯ï¼‰**

[ğŸš€ ä¸€é”®éƒ¨ç½²](#-ä¸€é”®éƒ¨ç½²) â€¢
[ğŸš€ å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹) â€¢
[âœ¨ åŠŸèƒ½ç‰¹æ€§](#-åŠŸèƒ½ç‰¹æ€§) â€¢
[ğŸ› ï¸ æŠ€æœ¯æ ˆ](#ï¸-æŠ€æœ¯æ ˆ) â€¢
[ğŸ¤ è´¡çŒ®](#-è´¡çŒ®)

</div>

---

## ğŸ“– é¡¹ç›®ç®€ä»‹

Self Music æ˜¯ä¸€ä¸ªé¢å‘ä¸ªäººä¸å°å›¢é˜Ÿçš„éŸ³ä¹ç®¡ç†ä¸æ’­æ”¾ç³»ç»Ÿã€‚æä¾›ä¼˜é›…çš„ UI ä¸æµç•…çš„æ’­æ”¾ä½“éªŒï¼Œæ”¯æŒæ’­æ”¾åˆ—è¡¨ç®¡ç†ã€æ­Œè¯åŒæ­¥ã€è‰ºæœ¯å®¶/ä¸“è¾‘æ•°æ®æµè§ˆï¼Œå¹¶å†…ç½®åå°ç®¡ç†ï¼ˆJWT è®¤è¯ï¼‰ï¼Œå¼€ç®±å³ç”¨ã€‚

## ğŸš€ ä¸€é”®éƒ¨ç½²

æˆ‘ä»¬æä¾›ä¸‰ç§ä¾¿æ·çš„éƒ¨ç½²æ–¹å¼ï¼š`Docker Run` å’Œ `Docker Compose` ä»¥åŠ [å®å¡”+ Vercel éƒ¨ç½²](#-å¿«é€Ÿå¼€å§‹)ã€‚

### æ–¹å¼ä¸€ï¼šä½¿ç”¨ Docker Run (æ¨è)

è¿™æ˜¯æœ€ç®€å•å¿«æ·çš„å¯åŠ¨æ–¹å¼ã€‚åªéœ€ä¸€æ¡å‘½ä»¤å³å¯è¿è¡Œæ•´ä¸ªåº”ç”¨ï¼ˆéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå› æ•°æ®æŒä¹…åŒ–éœ€æ±‚ï¼Œæ¯æ¬¡æ‰§è¡Œå‘½ä»¤å¯åŠ¨çš„ç›®å½•éœ€ä¸ºåŒä¸€ä¸ªï¼Œå»ºè®®åœ¨ `~` ç›®å½•ä¸‹æ‰§è¡Œï¼‰ã€‚

**å›½å†…æœåŠ¡å™¨æ¨è (ä½¿ç”¨åŠ é€Ÿé•œåƒ):**
```bash
docker run -d \
  --name self-music-app \
  --restart unless-stopped \
  -p 6230:80 \
  -v "$(pwd)/music_data":/data \
  docker.cnb.cool/onmicrosoft/self-music:latest
```

**æµ·å¤–æœåŠ¡å™¨æˆ–æœ¬åœ° (ä½¿ç”¨ Docker Hub å®˜æ–¹é•œåƒ):**
```bash
docker run -d \
  --name self-music-app \
  --restart unless-stopped \
  -p 6230:80 \
  -v "$(pwd)/music_data":/data \
  zkeq/self-music:latest
```
- å¯åŠ¨åï¼Œåº”ç”¨å°†åœ¨ `http://localhost:6230` è®¿é—®ã€‚
- æ‰€æœ‰æ•°æ®ï¼ˆæ•°æ®åº“ã€é…ç½®æ–‡ä»¶ã€éŸ³ä¹æ–‡ä»¶ï¼‰å°†ä¿å­˜åœ¨å½“å‰ç›®å½•ä¸‹çš„ `music_data` æ–‡ä»¶å¤¹ä¸­ï¼ˆä¿®æ”¹å¯†ç åé‡å¯é¡¹ç›®å³å¯ï¼Œä¼šè‡ªåŠ¨æ›´æ–°å¯†ç ï¼‰ã€‚
- é»˜è®¤ç®¡ç†å‘˜è´¦å·ï¼š`admin` / `admin123`ã€‚

### æ–¹å¼äºŒï¼šä½¿ç”¨ Docker Compose

å¦‚æœæ‚¨éœ€è¦æ›´çµæ´»çš„é…ç½®æˆ–è¿›è¡ŒäºŒæ¬¡å¼€å‘ï¼Œå¯ä»¥ä½¿ç”¨ `docker-compose`ã€‚

1.  **å…‹éš†æœ¬é¡¹ç›®**
    ```bash
    git clone https://github.com/zkeq/Self-music.git
    cd Self-music
    ```

2.  **å¯åŠ¨æœåŠ¡**
    ```bash
    docker-compose up -d
    ```
- å¯åŠ¨åï¼Œåº”ç”¨å°†åœ¨ `http://localhost:8080` è®¿é—®ã€‚

---

## âœ¨ åŠŸèƒ½ç‰¹æ€§

- **ç°ä»£ UI**: åŸºäº shadcn/ui + Tailwind CSS 4 çš„ç²¾ç¾ç•Œé¢ï¼Œæ”¯æŒæ˜æš—ä¸»é¢˜åˆ‡æ¢ã€‚
- **å®Œæ•´æ’­æ”¾ä½“éªŒ**: æ”¯æŒæ’­æ”¾é˜Ÿåˆ—ã€LRC æ­Œè¯åŒæ­¥æ»šåŠ¨ã€éšæœº/å¾ªç¯æ’­æ”¾æ¨¡å¼ã€‚
- **å¤šç»´åº¦æµè§ˆ**: æŒ‰è‰ºæœ¯å®¶ã€ä¸“è¾‘ã€æ’­æ”¾åˆ—è¡¨ã€æƒ…ç»ªç­‰å¤šç§æ–¹å¼å‘ç°éŸ³ä¹ã€‚
- **å¼ºå¤§åå°ç®¡ç†**: å†…ç½®åå°ç®¡ç†ç³»ç»Ÿï¼Œæ”¯æŒå¯¹æ­Œæ›²ã€è‰ºæœ¯å®¶ã€æ’­æ”¾åˆ—è¡¨ç­‰çš„å®Œæ•´ CRUD æ“ä½œã€‚
- **æ•°æ®æŒä¹…åŒ–**: æ‰€æœ‰æ•°æ®å‡é€šè¿‡å·ï¼ˆVolumeï¼‰æŒä¹…åŒ–ï¼Œæ–¹ä¾¿å¤‡ä»½å’Œè¿ç§»ã€‚

---

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **åç«¯**: FastAPI (Python) + SQLite
- **å‰ç«¯**: Next.js (React) + TypeScript + Tailwind CSS
- **å®¹å™¨åŒ–**: Docker + Nginx

---

## ğŸ”§ æœ¬åœ°å¼€å‘

å¦‚æœéœ€è¦è¿›è¡ŒäºŒæ¬¡å¼€å‘ï¼Œè¯·æŒ‰ä»¥ä¸‹æ­¥éª¤è®¾ç½®æœ¬åœ°ç¯å¢ƒã€‚

1.  **ç¯å¢ƒè¦æ±‚**
    - Python 3.8+
    - Node.js 18+
    - pnpm (æ¨è)

2.  **å…‹éš†é¡¹ç›®**
    ```bash
    git clone https://github.com/zkeq/Self-music.git
    cd Self-music
    ```

3.  **å¯åŠ¨åç«¯**
    ```bash
    cd backend
    pip install -r requirements.txt
    uvicorn main:app --reload --host 0.0.0.0 --port 8000
    ```
    - åç«¯æœåŠ¡è¿è¡Œäº `http://localhost:8000`

4.  **å¯åŠ¨å‰ç«¯**
    ```bash
    cd ../frontend
    pnpm install
    pnpm dev
    ```
    - å‰ç«¯æœåŠ¡è¿è¡Œäº `http://localhost:3000`

---

### ğŸ¯ æ ¸å¿ƒäº®ç‚¹

- ğŸ¨ ç°ä»£åŒ–è®¾è®¡ï¼šåŸºäº shadcn/ui + Tailwind CSS 4 çš„ç²¾ç¾ç•Œé¢
- ğŸ“± å“åº”å¼å¸ƒå±€ï¼šæ¡Œé¢ä¸ç§»åŠ¨ç«¯æ— ç¼é€‚é…
- ğŸ” å®‰å…¨è®¤è¯ï¼šåŸºäº JWT çš„åå°ç®¡ç†ç™»å½•
- ğŸ§ æ’­æ”¾ä½“éªŒï¼šHTML5 éŸ³é¢‘ + æ­Œè¯(LRC)è§£æä¸åŒæ­¥æ»šåŠ¨
- ğŸ›ï¸ æ’­æ”¾æ§åˆ¶ï¼šè¿›åº¦ã€éŸ³é‡ã€éšæœºã€å¾ªç¯ã€ä¸Šä¸€é¦–/ä¸‹ä¸€é¦–
- ğŸŒ“ ä¸»é¢˜åˆ‡æ¢ï¼šå†…ç½®æš—é»‘æ¨¡å¼ï¼ˆnext-themesï¼‰

---

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ğŸ› æ’­æ”¾ä¸ä½“éªŒ
- ğŸµ æ’­æ”¾åˆ—è¡¨ï¼šæ”¯æŒæ’­æ”¾é˜Ÿåˆ—ã€ä»åˆ—è¡¨æ’­æ”¾ã€è·³è½¬åˆ°æŒ‡å®šæ­Œæ›²
- ğŸ“ æ­Œè¯æ”¯æŒï¼šLRC/çº¯æ–‡æœ¬è§£æï¼Œæ”¯æŒå…¨å±æ­Œè¯ä¸æ»šåŠ¨é«˜äº®
- ğŸ” æ’­æ”¾æ¨¡å¼ï¼šéšæœº/åˆ—è¡¨å¾ªç¯/å•æ›²å¾ªç¯
- ğŸ’¾ æœ¬åœ°è®°å¿†ï¼šæ’­æ”¾åˆ—è¡¨ä¸çŠ¶æ€æŒä¹…åŒ–ï¼ˆlocalStorageï¼‰

### ğŸ­ æµè§ˆä¸åˆ†ç±»
- ğŸ‘¤ è‰ºæœ¯å®¶ï¼šåˆ—è¡¨ä¸è¯¦æƒ…ã€è¯¥è‰ºæœ¯å®¶æ­Œæ›²/ä¸“è¾‘
- ğŸ’¿ ä¸“è¾‘ï¼šåˆ—è¡¨ä¸è¯¦æƒ…ã€ä¸“è¾‘ä¸‹æ­Œæ›²
- ğŸ“‚ æ’­æ”¾åˆ—è¡¨ï¼šå…¬å…±æ’­æ”¾åˆ—è¡¨æµè§ˆä¸æ’­æ”¾
- ğŸ˜Š æƒ…ç»ª/æ°›å›´ï¼šæŒ‰ mood åˆ†ç±»å±•ç¤ºä¸ç­›é€‰ï¼ˆåç«¯æ”¯æŒï¼‰

### ğŸ›  ç®¡ç†åå°ï¼ˆ/adminï¼‰
- âœ… è‰ºæœ¯å®¶/ä¸“è¾‘/æ­Œæ›²/æƒ…ç»ª(mood)/æ’­æ”¾åˆ—è¡¨ï¼šå®Œæ•´ CRUD
- ğŸ”ƒ æ’­æ”¾åˆ—è¡¨é‡æ’ï¼šæ”¯æŒè‡ªå®šä¹‰é¡ºåºï¼ˆä¿æŒé¡ºåºè¿”å›ï¼‰
- ğŸ“¦ æ‰¹é‡å¯¼å…¥ï¼šæŒ‰æ­Œæ›²/ä¸“è¾‘/è‰ºäººä¿¡æ¯æ‰¹é‡å†™å…¥ï¼ˆå«æ­Œè¯ä¸éŸ³é¢‘ URLï¼‰
- ğŸ‘¤ é»˜è®¤ç®¡ç†å‘˜ï¼š`admin / admin123`

### ğŸ” å®‰å…¨ç‰¹æ€§
- ğŸ›¡ï¸ JWT è®¤è¯ï¼šBearer Token é‰´æƒçš„ç®¡ç†æ¥å£
- ğŸŒ CORS è®¾ç½®ï¼šé»˜è®¤å…è®¸æ‰€æœ‰æ¥æº

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### â˜ï¸ äº‘æœåŠ¡å™¨éƒ¨ç½² ï¼ˆåç«¯ï¼‰[ä½¿ç”¨å®å¡”éƒ¨ç½²]

1. å°† `backend` æ–‡ä»¶å¤¹ä¸Šä¼ è‡³æœåŠ¡å™¨ `\root` å³å¯

![478884422-4da357c8-ba77-4bfb-bc1f-fecd4f122349](https://img.onmicrosoft.cn/zkeq/20250830095833542.png)

2. ä¿®æ”¹ `backend/config.yaml` é‡Œé¢çš„é…ç½®é¡¹ `jwt_secret` å’Œ `admin` ç®¡ç†å‘˜å¯†ç ã€‚

![483839127-2a5497bd-2b1e-4923-8806-6e215f97b9ea](https://img.onmicrosoft.cn/zkeq/20250830095846596.png)


3. æ‰“å¼€å®å¡” ç½‘ç«™ -> `Ptythoné¡¹ç›®` -> `æ–°å»ºç«™ç‚¹`

   æ–°å»ºä¸€ä¸ªè™šæ‹Ÿç¯å¢ƒ

   ![image-20250731101721616](https://img.onmicrosoft.cn/zkeq/20250731101721697.png)

4. è¡¨å•æŒ‰å¦‚ä¸‹å¡«å†™

   ![image-20250731101757603](https://img.onmicrosoft.cn/zkeq/20250731101757694.png)

5. ç‚¹å‡»ç¡®å®šåé¡¹ç›®ä¼šè¿›è¡Œåˆ›å»ºè™šæ‹Ÿç¯å¢ƒå’Œå®‰è£…ï¼Œç­‰å¾…å®‰è£…å®Œæ¯• å³å¯

6. ç‚¹å‡»è®¾ç½®å¯æŸ¥çœ‹é¡¹ç›®æ—¥å¿—

   ![image-20250731101900749](https://img.onmicrosoft.cn/zkeq/20250731101900862.png)

7. åœ¨è¿™ä¸€æ­¥å¦‚æœæç¤ºæ‰¾ä¸åˆ°æŸä¸ªä¾èµ–ï¼Œç‚¹å‡» `æ“ä½œ` ä¸­çš„ `ç»ˆç«¯`ï¼Œè‡ªè¡Œè¾“å…¥ `pip install xxx(åŒ…å)` å³å¯ï¼Œè‹¥æç¤ºç«¯å£è¢«å ç”¨ ï¼ˆæ›´æ”¹ä¸€ä¸ªæ²¡æœ‰è¢«å ç”¨çš„ç«¯å£å³å¯ `main.py`ï¼‰

   ![image-20250731102037862](https://img.onmicrosoft.cn/zkeq/20250731102037989.png)

8.  è¯·æ±‚æœåŠ¡ç«¯å£ï¼ŒæŸ¥çœ‹è¿è¡Œæƒ…å†µ ï¼ˆçœ‹åˆ°è¿™ä¸ªå­—ç¬¦ä¸²ï¼Œè¯´æ˜æœåŠ¡æ­£å¸¸è¿è¡Œï¼‰

   ![image-20250731102123918](https://img.onmicrosoft.cn/zkeq/20250731102123995.png)

9. åç«¯éƒ¨ç½²å·²å®Œæˆï¼Œå¯åœ¨cdnæµ‹ç»‘å®šåä»£åŸŸåå³å¯ä¸Šçº¿

### â˜ï¸  Vercel éƒ¨ç½² ï¼ˆå‰ç«¯ï¼‰

[![Deploy with Vercel](https://vercel.com/button)](https://vercel.com/new/clone?repository-url=https%3A%2F%2Fgithub.com%2Fzkeq%2FSelf-Music%2Ftree%2Fmain%2Ffrontend&env=NEXT_PUBLIC_API_URL&envDescription=%E5%90%8E%E7%AB%AF%E9%A1%B9%E7%9B%AE%E5%9C%B0%E5%9D%80%EF%BC%88%E7%A4%BA%E4%BE%8B%3A%20https%3A%2F%2Fmusic-api.onmicrosoft.cn%2Fapi%EF%BC%89%EF%BC%9A&project-name=self-music&repository-name=self-music)

- æŒ‰æ­¥éª¤è¿›è¡Œæ“ä½œå³å¯æˆåŠŸéƒ¨ç½²

<img width="2093" height="1284" alt="image" src="https://github.com/user-attachments/assets/f6a370cc-b9e6-47d7-a7d2-20d83951bbaa" />

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
Self-Music/
â”œâ”€â”€ backend/                 # FastAPI + SQLite
â”‚   â”œâ”€â”€ main.py              # API å…¥å£ï¼ˆå«åå°è·¯ç”±ï¼‰
â”‚   â”œâ”€â”€ user.py              # é¢å‘ç”¨æˆ·çš„å…¬å¼€æ¥å£
â”‚   â”œâ”€â”€ music.db             # SQLite æ•°æ®åº“
â”‚   â””â”€â”€ requirements.txt     # Python ä¾èµ–
â”œâ”€â”€ frontend/                # Next.js + TypeScript + Tailwind CSS 4
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ app/             # åº”ç”¨è·¯ç”±ï¼ˆ/playã€/artistsã€/admin ç­‰ï¼‰
â”‚   â”‚   â”œâ”€â”€ components/      # UI ç»„ä»¶ã€æ’­æ”¾å™¨ã€æ­Œè¯ã€é¢æ¿
â”‚   â”‚   â”œâ”€â”€ lib/             # API å®¢æˆ·ç«¯ã€storeã€å·¥å…·
â”‚   â”‚   â””â”€â”€ styles/          # å…¨å±€æ ·å¼ä¸ä¸»é¢˜
â”‚   â””â”€â”€ package.json         # å‰ç«¯ä¾èµ–ä¸è„šæœ¬
â”œâ”€â”€ AGENTS.md                # ä»“åº“è´¡çŒ®ä¸å¼€å‘è§„èŒƒï¼ˆä¸­æ–‡ï¼‰
â”œâ”€â”€ README.md                # ä¸­æ–‡è¯´æ˜ï¼ˆæœ¬æ–‡ä»¶ï¼‰
â””â”€â”€ README.en.md             # English README
```

---

## ğŸ“š API æ¦‚è§ˆï¼ˆèŠ‚é€‰ï¼‰

- å…¬å…±æ¥å£ï¼ˆæ— éœ€ç™»å½•ï¼‰
  - `GET /api/songs`ï¼šåˆ†é¡µè·å–æ­Œæ›²
  - `GET /api/songs/{id}`ï¼šæ­Œæ›²è¯¦æƒ…
  - `GET /api/artists`ã€`/api/artists/{id}`ã€`/api/artists/{id}/songs`ã€`/api/artists/{id}/albums`
  - `GET /api/albums`ã€`/api/albums/{id}`ã€`/api/albums/{id}/songs`
  - `GET /api/playlists`ã€`/api/playlists/{id}`

- ç®¡ç†æ¥å£ï¼ˆéœ€ Bearer Tokenï¼‰
  - `POST /api/auth/login`ï¼šç®¡ç†å‘˜ç™»å½•
  - `GET/POST/PUT/DELETE /api/admin/{artists|albums|songs|moods|playlists}`
  - `PUT /api/admin/playlists/{id}/reorder`ï¼šæ’­æ”¾åˆ—è¡¨é‡æ’
  - `POST /api/admin/upload`ï¼šä¸Šä¼ éŸ³é¢‘æ–‡ä»¶
  - `POST /api/admin/import/*`ï¼šæ‰¹é‡å¯¼å…¥ä¸æŸ¥é‡

> è¯¦è§è¿è¡Œåç«¯åçš„ Swagger æ–‡æ¡£ï¼š`/docs`

---

## ğŸ¤ è´¡çŒ®

- æäº¤å‰ç¡®ä¿ï¼šæ„å»ºé€šè¿‡ã€`pnpm lint` é€šè¿‡ã€API æœ¬åœ°å¯è¿è¡Œ
- éµå¾ªæœ¬ä»“åº“çº¦å®šï¼ˆè§ `AGENTS.md`, `CODE_OF_CONDUCT.md`ï¼‰
- æ¬¢è¿ï¼šBug æŠ¥å‘Šã€åŠŸèƒ½æè®®ã€æ–‡æ¡£æ”¹è¿›ã€å›½é™…åŒ–æ”¯æŒ

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT License](LICENSE) å¼€æºåè®®ã€‚


---

## ç‰¹åˆ«æ„Ÿè°¢

æ„Ÿè°¢ [@haorwen](https://github.com/haorwen) ä¸ºæœ¬é¡¹ç›®æä¾›ç½‘æ˜“äº‘éŸ³ä¹å…ƒä¿¡æ¯æ•°æ® API æœåŠ¡ã€‚


---

<div align="center">

**â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ä¸ºå®ƒç‚¹ä¸€é¢—æ˜Ÿï¼â­**

Made with â¤ï¸ for music lovers.

</div>
